# =============================================================================
# NOTE: only adjustments to the default config are included below ⮯
# See execellent docs for more info: https://sw.kovidgoyal.net/kitty/conf/
# =============================================================================

# 👀 UI: ⮯ {{{

# display scaling (≈1.25x)
font_size                   14.0
box_drawing_scale           0.00125, 1.25, 1.875, 2.5
cursor_beam_thickness       1.875
cursor_underline_thickness  2.5

# see ~/.config/kitty/tab_bar.py
tab_bar_style               custom
# also, this discussion: https://github.com/kovidgoyal/kitty/discussions/4447

# fix nf-pom mappings
symbol_map U+E000-U+E00A Symbols Nerd Font

# }}} ⮭

# ✊ UX: ⮯ {{{

scrollback_pager                nvimpager
paste_actions                   quote-urls-at-prompt, confirm
strip_trailing_spaces           smart
confirm_os_window_close         4
visual_window_select_characters asetniol

# }}} ⮭

# 🎨 Color Scheme: ⮯ {{{

# basics
foreground              #b6bbd8
background              #222536
selection_foreground    #222536
selection_background    #596091

# Cursor colors
cursor                  #ff9e7a
cursor_text_color       #101014

# URL underline color when hovering with mouse
url_color               #65be75

# Kitty window border colors
active_border_color     #B7BDF8
inactive_border_color   #6E738D
bell_border_color       #EED49F

# Tab bar colors
active_tab_foreground   #181926
active_tab_background   #C6A0F6
inactive_tab_foreground #CAD3F5
inactive_tab_background #1E2030
tab_bar_background      #181926

# Colors for marks (marked text in the terminal)
mark1_foreground #24273A
mark1_background #B7BDF8
mark2_foreground #24273A
mark2_background #C6A0F6
mark3_foreground #24273A
mark3_background #7DC4E4

# The 16 terminal colors

# black
color0 #494D64
color8 #5B6078

# red
color1 #ED8796
color9 #ED8796

# green
color2  #A6DA95
color10 #A6DA95

# yellow
color3  #EED49F
color11 #EED49F

# blue
color4  #8AADF4
color12 #8AADF4

# magenta
color5  #F5BDE6
color13 #F5BDE6

# cyan
color6  #8BD5CA
color14 #8BD5CA

# white
color7  #B8C0E0
color15 #A5ADCB


# background_opacity 1.0
# background_image none
# background_image_layout tiled
# background_image_linear no
# dynamic_background_opacity no
# background_tint 0.0
# dim_opacity 0.75

#: }}}

# ⌨️i Keymaps ⮯

# 🎯 Core: ⮯ {{{

kitty_mod ctrl+shift
clear_all_shortcuts yes

map kitty_mod+equal     change_font_size all +1.0
map kitty_mod+minus     change_font_size all -1.0
map kitty_mod+escape    change_font_size all 0
map kitty_mod+/         change_font_size all 24

map kitty_mod+f1 show_kitty_doc overview
map kitty_mod+f2 edit_config_file
map kitty_mod+f5 load_config_file

map kitty_mod+p kitty_shell tab
map kitty_mod+i kitten unicode_input

#: }}} ⮭

# 📋 Clipboard: ⮯ {{{

map kitty_mod+c combine : copy_to_clipboard : clear_selection
map kitty_mod+v paste_from_clipboard
map kitty_mod+b paste_from_selection

# }}} ⮭

# 📜 Terminal Scrolling: ⮯ {{{

map kitty_mod+up            scroll_line_up
map kitty_mod+down          scroll_line_down
map kitty_mod+super+up      scroll_page_up
map kitty_mod+super+down    scroll_page_down
map kitty_mod+home          scroll_home
map kitty_mod+end           scroll_end
map kitty_mod+right         scroll_to_prompt 1
map kitty_mod+left          scroll_to_prompt -1

# show ouptut in pager
map kitty_mod+s>s show_scrollback
map kitty_mod+s>c show_last_command_output

#: }}}

# 📑 Tabs: ⮯ {{{

map ctrl+Next             next_tab
map ctrl+Prior            previous_tab
map kitty_mod+e           goto_tab 1
map kitty_mod+t           goto_tab 2
map kitty_mod+g           goto_tab 3
map kitty_mod+w>t         new_tab
map kitty_mod+w>w         close_tab
map kitty_mod+w>t         move_tab_forward
map kitty_mod+w>e         move_tab_backward

action_alias new_tab_current launch --cwd=current --type=tab
action_alias xplr launch --cwd=current --type=tab --tab-title="⟜   ⊸" zsh -c "xplr; zsh"
action_alias nvim launch --cwd=current --type=tab --tab-title="⟜   ⊸" zsh -c "nvim; zsh"
action_alias term launch --cwd=current --type=tab --tab-title="⟜   ⊸" zsh -c "lsd; zsh"

action_alias refresh_xplr  combine : goto_tab 1 : nvim : move_tab_backward : move_tab_backward : previous_tab : close_tab
action_alias refresh_nvim  combine : goto_tab 2 : xplr : move_tab_backward : previous_tab : close_tab
action_alias refresh_term  combine : goto_tab 3 : term : previous_tab : close_tab

map kitty_mod+r>g refresh_xplr
map kitty_mod+r>e refresh_nvim
map kitty_mod+r>t refresh_term
map kitty_mod+r>r combine : nvim : term : xplr : goto_tab 1 : close_tab : next_tab

#: }}}

# 🙀 Kitten hints: ⮯ {{{

action_alias myhints kitten hints --alphabet tneisoalfpruvwhd1234789 --hints-offset 0
map kitty_mod+f>f myhints
map kitty_mod+f>p myhints --type path --program @
map kitty_mol+f>l myhints --type line --program @
map kitty_mod+f>w myhints --type word --program @ --minimum-match-length 4
map kitty_mod+f>h myhints --type hash --program @

#: }}}
