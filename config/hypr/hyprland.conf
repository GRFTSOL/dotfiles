# monitors
monitor=HDMI-A-1,3840x2160@100,0x0,1
monitor=HDMI-A-1,addreserved,100,99,200,719

# default workspace rules
windowrule=workspace 1 silent,discord
windowrule=workspace 2 silent,zoom
windowrule=workspace 5 silent,Spotify
windowrule=opacity 0.90 override 0.69 override,Spotify
windowrule=nofullscreenrequest,firefoxdeveloperedition

# center float (terminals)
$terminalfloat=title:(terminalfloat)|(via-nativia)
windowrule=float,$terminalfloat
windowrule=size 2992 1610,$terminalfloat
windowrule=center,$terminalfloat
windowrule=opacity 1,$terminalfloat
windowrule=dimaround,$terminalfloat

# glava
$glava=title:^(GLava)$
windowrule=noborder,$glava
windowrule=nofocus,$glava
windowrule=noshadow,$glava
windowrule=float,$glava
bind=SUPERSHIFTCTRL,J,exec,glava -e "rc_radial_mid.glsl"
bind=SUPERSHIFTCTRL,L,exec,glava -e "rc_radial_right.glsl"
bind=SUPERSHIFTCTRL,H,exec,glava -e "rc_bars_bot.glsl"
bind=SUPERSHIFTCTRL,M,exec,pkill glava

# center float (select windows)
$centerfloat=title:(File)|(Select)|(Save)|(save)|^(?![\s\S])|(Zoom)|(Settings)|(Authentication)
windowrule=float,$centerfloat
windowrule=center,$centerfloat
windowrule=dimaround,$centerfloat

# startup events
exec-once=dunst
exec-once=/usr/lib/polkit-kde-authentication-agent-1
exec-once=hyprstart

general {
    border_size=3
    gaps_in=13
    gaps_out=0
    no_cursor_warps=false
    col.active_border=0xE6ff9e64
    col.inactive_border=0xE67aa2f7
    cursor_inactive_timeout=3
    layout=master
}


decoration {
    rounding=16
    multisample_edges=true
    active_opacity=0.98
    inactive_opacity=0.9
    fullscreen_opacity=1
    blur=false
    drop_shadow=true
    shadow_range=20
    shadow_render_power=3
    shadow_ignore_window=true
    col.shadow=0x6Be0617a
    col.shadow_inactive=0x3Bbb9af7
    shadow_offset=0 0
}

animations {
    enabled=1
    bezier=jerk,1, -0.36, 0.72, 1.2
    bezier=snap,0,0.25,0.5,1.6
    animation=windows,1,3,snap,popin
    animation=workspaces,1,3,jerk,slide
}

input {
    repeat_rate=42
    repeat_delay=324
    follow_mouse=1
    sensitivity=1
    float_switch_override_focus=0
}

dwindle {
    pseudotile=false
    force_split=2
    preserve_split=true
}

master {
    new_is_master = false
}

$float=hyprctl dispatch resizeactive exact 2992 1610; hyprctl dispatch centerwindow 0

# 272<-left  right->273
bindm=SUPERSHIFTCTRL,mouse:272,movewindow
bindm=SUPERSHIFTCTRL,mouse:273,resizewindow
bind=SUPERSHIFTCTRL,T,togglefloating
bind=SUPERSHIFTCTRL,G,exec,$float

# various applications
$browser = firefox-developer-edition
bind=SUPER,RETURN,exec,kitty --session ~/.config/kitty/sessions/term.conf
bind=SUPER,F,exec,$browser
bind=ALTSUPERSHIFT,F,exec,$browser; sleep 0.4; hyprctl dispatch togglefloating 0; $float
bind=SUPERSHIFT,C,exec,$browser https://calendar.google.com/calendar/u/0/r
bind=SUPERSHIFT,I,exec,inkscape
bind=SUPER,R,exec,wofi --show drun
bind=SUPER,I,exec,wofi-emoji

# center float terminals
$termfloat = kitty --title="terminalfloat"
bind=SUPERSHIFT,RETURN,exec,$termfloat --session "~/.config/kitty/sessions/term.conf"
bind=SUPERSHIFT,P,exec,$termfloat -e "pulsemixer"
bind=SUPERSHIFT,R,exec,$termfloat -e "btop"
bind=SUPERSHIFT,G,exec,$termfloat --working-directory="dotfiles" -e "lazygit"
bind=SUPERSHIFT,Y,exec,$termfloat --working-directory="vagari" -e "lazygit"

# re-size windows
$master_big=hyprctl dispatch resizeactive exact 1866 1955
$master_norm=hyprctl dispatch resizeactive exact 1012 1955
bind=ALT,Q,exec,$master_big
bind=ALT,W,exec,$master_big;$master_norm;$master_norm;$master_norm;$master_norm;$master_norm;
bind=ALT,F,resizeactive,exact 1870 1186
bind=ALTSHIFTCTRL,S,exec, hyprctl dispatch moveactive exact 2400 100; hyprctl dispatch resizeactive exact 1300 1950;
# spotify preferred window ⮭

# basic commands
bind=SUPER,X,killactive,
bind=SUPERSHIFT,X,exec,hyprctl kill
bind=SUPER,A,exec,hyprctl dispatch fullscreen 0

# move focus within workspace
bind=ALT,s,movefocus,l
bind=SUPERSHIFT,l,movefocus,r
bind=ALT,t,movefocus,r
bind=SUPERSHIFT,h,movefocus,l
bind=ALT,r,movefocus,u
bind=SUPERSHIFT,k,movefocus,u
bind=SUPERSHIFT,u,movefocus,u
bind=ALT,e,movefocus,d
bind=SUPERSHIFT,j,movefocus,d
bind=SUPERSHIFT,d,movefocus,d

# move window within workspace
bind=ALTSUPER,Left,movewindow,l
bind=ALTSUPER,Right,movewindow,r
bind=ALTSUPER,Up,movewindow,u
bind=ALTSUPER,Down,movewindow,d

# move to workspace
$move_workspace=hyprctl dispatch workspace
bind=SUPER,s,exec, $move_workspace 1; change-bg
bind=SUPER,e,exec, $move_workspace 2; change-bg
bind=SUPER,t,exec, $move_workspace 3; change-bg
bind=SUPERSHIFT,t,exec, $move_workspace 4; change-bg
bind=SUPER,g,exec,change-bg "music"; $move_workspace 5

# open workspace layout
bind=ALTSUPER,s,exec, layout -n 1 -a discord -w https://twitch.tv/following
bind=ALTSUPER,e,exec, layout -n 2 -a inkscape
bind=ALTSUPER,t,exec, layout -n 3 -s vagari -w https://github.com/nosvagor/vagari
bind=ALTSUPERSHIFT,t,exec, layout -n 4 -s dotfiles  -w https://github.com/nosvagor/dotfiles

# media controls
bind=SUPERSHIFT,F,exec,playerctl play-pause
bind=SUPERSHIFT,COMMA,exec,playerctl next
bind=SUPERSHIFT,D,exec,playerctl previous

#headphones controls
bind=,209,exec,playerctl pause
bind=,208,exec,playerctl play
bind=,171,exec,playerctl next
bind=,173,exec,playerctl previous

# simple color picker
bind=SHIFTALT,P,exec,hyprpicker | wl-copy

# screenshots
bind=CTRLSHIFTSUPER,B,exec,grim -g "$(slurp)" - | wl-copy && notify-send "screenshot saved to clipboard"
bind=CTRLSHIFTSUPER,C,exec,grim -g "$(slurp)" ~/media/screenshots/$(date +%F_%T_slurp).png && notify-send "screenshot saved to folder"
